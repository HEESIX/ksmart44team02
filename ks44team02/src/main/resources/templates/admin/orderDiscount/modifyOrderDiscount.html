<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/adminDefault}">

<!-- 주문서별 할인혜택 수정 폼  -->

<!-- 사용자 정의 title 설정  -->
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>

<th:block layout:fragment="customCss">
	<link rel="stylesheet"
		th:href="@{/admin/assets/plugins/select2/dist/css/select2.min.css}">
	<link rel="stylesheet" type="text/css"
		th:href="@{/admin/assets/plugins/select2/css/s2-docs.css}">
</th:block>

<!-- 사용자 정의 css  -->
<th:block layout:fragment="customCss">
	<link rel="stylesheet"
		th:href="@{/admin/assets/plugins/select2/dist/css/select2.min.css}">
	<link rel="stylesheet" type="text/css"
		th:href="@{/admin/assets/plugins/select2/css/s2-docs.css}">
</th:block>

<!-- 사용자 정의 contents  -->
<th:block layout:fragment="customContents">
	<div class="container-fluid" style="height: 100%; width: 100%;">
		<div class="row">
			<div class="col-sm-12 p-0">
				<div class="main-header">
					<div class="row col-sm-3" style="padding-right: 5;">
					<h4>할인 혜택 수정</h4>
					<ol class="breadcrumb breadcrumb-title breadcrumb-arrow">
						<li class="breadcrumb-item"><a th:href="@{/admin}"><i
								class="icofont icofont-home"></i></a></li>
						<li class="breadcrumb-item"><a th:href="@{/admin/orderDiscount/orderDiscountList}">할인 혜택 목록</a>
						</li>
						<li class="breadcrumb-item"><a th:href="@{/admin/orderDiscount/addOrderDiscount}">할인 혜택 등록</a>
						</li>
					</ol>
					</div>
					<div class="col-sm-0">
						<button type="button" class="btn btn-default waves-effect" 
						data-toggle="tooltip" data-placement="right" title data-original-title="빈칸 모두 작성한 뒤 수정 완료 버튼 클릭하면 전체 목록 조회되는 화면으로 이동하고 수정값이 반영됨">사용자 메뉴얼</button> 
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xl-2 col-lg-2"></div>
			<div class="col-xl-8 col-lg-8" style="padding-top: 15px;">
				<div class="card" th:object="${orderDiscountInfo}">
					<div class="card-header" style="text-align: center;">
						<h3>할인혜택 수정</h3>
					</div>
					<form th:action="@{/admin/orderDiscount/modifyOrderDiscount}"
						method="post">
						<div class="card-block">
							<div class="form-group row">
								<label for="orderDiscountCode"
									class="col-xs-2 col-form-label form-control-label">할인혜택 코드</label>
								<div class="col-sm-10">
									<input th:value="*{orderDiscountCode}" class="form-control"
										type="text" id="orderDiscountCode" name="orderDiscountCode"
										readonly="readonly">
								</div>
							</div>
							<div class="form-group row">
								<label for="discountName"
									class="col-xs-2 col-form-label form-control-label">혜택명</label>
								<div class="col-sm-10">
									<input th:value="*{discountName}" class="form-control"
										type="text" id="discountName" name="discountName">
								</div>
							</div>
							<div class="form-group row">
								<label for="discountRate"
									class="col-xs-2 col-form-label form-control-label">할인율</label>
								<div class="col-sm-10">
									<input th:value="*{discountRate}" class="form-control"
										type="text" id="discountRate" name="discountRate">
								</div>
							</div>
							<div class="form-group row">
								<label for="discountPrice"
									class="col-xs-2 col-form-label form-control-label">할인금액</label>
								<div class="col-sm-10">
									<input th:value="*{discountPrice}" class="form-control"
										type="text" id="discountPrice" name="discountPrice">
								</div>
							</div>
							<div class="form-group row">
								<label for="minOrderPrice"
									class="col-xs-2 col-form-label form-control-label">최소주문금액</label>
								<div class="col-sm-10">
									<input th:value="*{minOrderPrice}" class="form-control"
										type="text" id="minOrderPrice" name="minOrderPrice">
								</div>
							</div>
							<div class="form-group row">
								<label for="maxDiscountPrice"
									class="col-xs-2 col-form-label form-control-label">최대할인금액</label>
								<div class="col-sm-10">
									<input th:value="*{maxDiscountPrice}" class="form-control"
										type="text" id="maxDiscountPrice" name="maxDiscountPrice">
								</div>
							</div>
							<button id="modifyBtn" type="submit"
								class="btn btn-info waves-effect waves-light"
								style="float: right;">수정완료</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-xl-12 col-lg-12">
				<div class="card">
					<div class="card-block">
						<div class="table-responsive">
							<table class="table m-b-0 photo-table">
								<thead>
									<tr>
										<th>할인명</th>
										<th>할인율/할인금액</th>
										<th>최소주문금액</th>
										<th>최대할인금액</th>
										<th>등록일자</th>
									</tr>
								</thead>
								<tbody>
									<tr th:if="${not #lists.isEmpty(orderDiscountList)}"
										th:each="odl : ${orderDiscountList}">
										<td th:text="${odl.discountName}"></td>
										<td th:if="${odl.discountRate} != 0" th:text="${odl.discountRate}+'%'"></td>
										<td th:if="${odl.discountPrice} != 0" th:text="'₩'+${odl.discountPrice}"></td>
										<td th:text="${odl.minOrderPrice}"></td>
										<td th:text="${odl.maxDiscountPrice}"></td>
										<td th:text="${odl.gProductionRegDateTime}"></td>
									</tr>
									<tr th:unless="${not #lists.isEmpty(orderDiscountList)}">
										<td colspan="5" style="text-align: center;">주문서별 할인혜택이 존재하지
											않습니다.</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</th:block>

</html>